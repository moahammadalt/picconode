(this["webpackJsonppicco-admin"]=this["webpackJsonppicco-admin"]||[]).push([[0],{209:function(e,t,a){e.exports=a.p+"static/media/favicon.39971fa2.png"},271:function(e,t,a){e.exports=a(583)},357:function(e,t,a){},431:function(e,t,a){},478:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){},582:function(e,t,a){},583:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),l=a(41),i=a.n(l),s=a(46),u=a(53),m=a(597),d=a(269),p=(a(286),a(10)),f=Object(n.createContext)();function h(e){var t=e.children,a=Object(n.useState)(!1),c=Object(p.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)("dark"),s=Object(p.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(!1),h=Object(p.a)(d,2),g=h[0],b=h[1],E=Object(n.useState)(null),y=Object(p.a)(E,2),O=y[0],v=y[1],j=Object(n.useState)(!1),S=Object(p.a)(j,2),C={sideBarCollapsed:o,setCollapsed:l,theme:u,setTheme:m,loading:g,setLoading:b,error:O,setError:v,successNotification:S[0],setSuccessNotification:S[1]};return r.a.createElement(f.Provider,{value:C},t)}var g=a(54),b="SET_CATEGORIES",E="INIT_CATEGORIES",y="SET_COLORS",O="INIT_COLORS",v="SET_SIZES",j="INIT_SIZES",S=[],C=function(e,t){switch(t.type){case b:return{categories:t.payload};case E:return{categories:S};default:throw new Error("Unexpected action")}},w=[],k=function(e,t){switch(t.type){case y:return{colors:t.payload};case O:return{colors:w};default:throw new Error("Unexpected action")}},z=[],N=function(e,t){switch(t.type){case v:return{sizes:t.payload};case j:return{sizes:z};default:throw new Error("Unexpected action")}},P=a(42),I=a.n(P),_=a(63),x=a(180),F=a.n(x),T="".concat("localhost"===window.location.hostname?"http://localhost:1000":window.location.origin),D=F.a.create({baseURL:"".concat(T,"/adminAPI/")}),A=function(e){e?D.defaults.headers.common.Authorization=e:delete D.defaults.headers.common.Authorization},V=function(e){return e?e.response&&e.response.data?e.response.data.errorMessage||e.message||"Generic error happened":e.message?e.message:"Generic error happened":"Generic error happened"},L=function(e,t){return e&&e.data&&e.data.data?e.data.data:t||{}};var R=function(e){var t=Object(n.useState)(null),a=Object(p.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(e),l=Object(p.a)(o,2),i=l[0],s=l[1],u=Object(n.useContext)(f),m=u.loading,d=u.setLoading,h=u.error,g=u.setError,b=u.setSuccessNotification;Object(n.useEffect)((function(){var t=function(){var t=Object(_.a)(I.a.mark((function t(){var a,n,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g(null),b(!1),t.prev=2,d(!0),a=null,t.t0=i.method,t.next="GET"===t.t0?8:"POST"===t.t0?12:"FILE_POST"===t.t0?16:22;break;case 8:return t.next=10,D.get(i.url);case 10:return a=t.sent,t.abrupt("break",33);case 12:return t.next=14,D.post(i.url,i.params);case 14:return a=t.sent,t.abrupt("break",33);case 16:for(r in n=new FormData,i.params)n.append(r,i.params[r]);return t.next=20,D.post(i.url,n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 20:return a=t.sent,t.abrupt("break",33);case 22:if(!i.params){t.next=28;break}return t.next=25,D.post(i.url,i.params);case 25:t.t1=t.sent,t.next=31;break;case 28:return t.next=30,D.get(i.url);case 30:t.t1=t.sent;case 31:return a=t.t1,t.abrupt("break",33);case 33:c(a),i.onSuccess&&i.onSuccess(L(a)),e&&e.onSuccess&&e.onSuccess(L(a)),i.showSuccessNotification&&b(i.successMessage||"request has been done successfully."),t.next=45;break;case 39:t.prev=39,t.t2=t.catch(2),console.log("err: ",t.t2),i.onError&&i.onError(t.t2),e&&e.onError&&e.onError(t.t2),g(t.t2);case 45:return t.prev=45,d(!1),t.finish(45);case 48:case"end":return t.stop()}}),t,null,[[2,39,45,48]])})));return function(){return t.apply(this,arguments)}}();i&&t(),s(null)}),[i]);var E=i&&i.defaultValue||e&&e.defaultValue;return{data:L(r,E),error:h,loading:m,doFetch:s}};var M=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e}),[e]),t.current},U={login:"/login",dashboardRetrive:"/dashboard-retrive",categoryList:"/category",sizeList:"/size",colorList:"/color",imageUpload:"/productImage/create",productCreate:"/product/create",productUpdate:function(e){var t=e.slug;return"/product/".concat(t,"/update")},productListGet:"/product",productItemGet:function(e){var t=e.slug;return"/product/".concat(t)},productDelete:function(e){var t=e.slug;return"/product/".concat(t,"/delete")},categoryDelete:function(e){var t=e.slug;return"/category/".concat(t,"/delete")},categoryUpdate:function(e){var t=e.slug;return"/category/".concat(t,"/update")},categoryCreate:"/category/create",sizeCreate:"/size/create",sizeDelete:function(e){var t=e.slug;return"/size/".concat(t,"/delete")},sizeUpdate:function(e){var t=e.slug;return"/size/".concat(t,"/update")},colorCreate:"/color/create",colorDelete:function(e){var t=e.slug;return"/color/".concat(t,"/delete")},colorUpdate:function(e){var t=e.slug;return"/color/".concat(t,"/update")}},H="FIRST",B="LAST";function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W=Object(n.createContext)();function J(e){var t=e.children,a=Object(n.useReducer)(C),c=Object(p.a)(a,2),o=c[0],l=c[1],s=Object(n.useReducer)(N),u=Object(p.a)(s,2),m=u[0],d=u[1],f=Object(n.useReducer)(k),h=Object(p.a)(f,2),g=h[0],S=h[1],w=function(e){l({type:b,payload:e})},z=function(e){d({type:v,payload:e})},P=function(e){S({type:y,payload:e})},I=R().doFetch,_=R().doFetch,x=R().doFetch,F=function(){I({url:U.categoryList,onSuccess:w})},T=function(){_({url:U.sizeList,onSuccess:z})},D=function(){x({url:U.colorList,onSuccess:P})},A=i.a.get("authenticationToken");Object(n.useEffect)((function(){A&&(F(),T(),D())}),[A]);var V={data:q({},o,{},m,{},g),setCategories:w,initCategories:function(){l({type:E})},setSizes:z,initSizes:function(){d({type:j})},setColors:P,initcolors:function(){S({type:O})},doCategoriesFetch:F,doSizesFetch:T,doColorsFetch:D};return r.a.createElement(W.Provider,{value:V},t)}var K=a(584),Z=a(595),$=a(4),Q=a(257),X=a.n(Q),Y=K.a.Sider;var ee=Object(u.g)((function(e){var t=e.location.pathname,c=function(e){return!!X()(e).exec(t)},o=Object(n.useContext)(f),l=o.sideBarCollapsed,i=o.setCollapsed,u=o.theme;return r.a.createElement(Y,{collapsible:!0,collapsed:l,onCollapse:function(){return i(!l)}},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:a(209),alt:""}),!l&&r.a.createElement("span",null,"Picco Logo")),r.a.createElement(Z.a,{theme:u,mode:"inline",activeKey:t,selectedKeys:[t]},at.map((function(e){var a=e.path,n=e.showAlways,o=e.icon,l=e.name;return r.a.createElement(Z.a.Item,{key:c(a)?t:a},(n||c(a))&&r.a.createElement(s.b,{to:a},r.a.createElement($.a,{type:o}),r.a.createElement("span",{className:"nav-text"},l)))}))))})),te=a(594),ae=K.a.Header;var ne=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(p.a)(o,2),s=l[0],m=l[1];return r.a.createElement(ae,null,s&&r.a.createElement(u.a,{to:"/login"}),r.a.createElement("div",{className:"header-wrapper"},r.a.createElement("div",{className:"page-name"},"header"),r.a.createElement($.a,{type:"logout",onClick:function(){return c(!0)},className:"logout-icon"})),r.a.createElement(te.a,{title:"Log out from dashboard",visible:a,onOk:function(){i.a.set("authenticationToken",null),m(!0)},onCancel:function(){return c(!1)}},"would you really like to log out?"))},re=K.a.Footer;var ce=function(){return r.a.createElement(re,null,"piccoloveliero \xa92019")},oe=K.a.Content;var le=function(){var e=Object(n.useContext)(f).sideBarCollapsed;return r.a.createElement(K.a,{style:{marginLeft:e?"80px":"200px"}},r.a.createElement(ee,null),r.a.createElement(K.a,null,r.a.createElement(ne,null),r.a.createElement(oe,null,r.a.createElement(u.d,null,at.map((function(e){return r.a.createElement(u.b,{exact:!0,key:e.path,path:e.path,component:e.component})})),r.a.createElement(u.a,{to:"/"}))),r.a.createElement(ce,null)))},ie=a(591),se=a(596),ue=a(65);a(357);var me=ie.a.create({name:"loginForm"})((function(e){var t=e.form,n=t.getFieldDecorator,c=t.validateFields,o=!!i.a.get("authenticationToken"),l=R(),s=l.data.token,m=l.doFetch;s&&(i.a.set("authenticationToken",s),A(s));var d=function(){var e=Object(_.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.t0=m,e.t1=U.login,e.next=5,c();case 5:e.t2=e.sent,e.t3={url:e.t1,params:e.t2},(0,e.t0)(e.t3);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s||o?r.a.createElement(u.a,{to:"/"}):r.a.createElement(K.a,{className:"login-layout"},r.a.createElement("img",{src:a(209),alt:""}),r.a.createElement(ie.a,{onSubmit:d,className:"login-form"},r.a.createElement(ie.a.Item,null,n("userName",{rules:[{required:!0,message:"Please enter your username!"}]})(r.a.createElement(se.a,{prefix:r.a.createElement($.a,{type:"user",className:"input-icon"}),placeholder:"Username",size:"large"}))),r.a.createElement(ie.a.Item,null,n("password",{rules:[{required:!0,message:"Please enter your Password!"}]})(r.a.createElement(se.a,{prefix:r.a.createElement($.a,{type:"lock",className:"input-icon"}),type:"password",placeholder:"Password",size:"large"}))),r.a.createElement(ie.a.Item,null,r.a.createElement(ue.a,{type:"primary",htmlType:"submit",size:"large"},"Log in"))))})),de=a(589),pe=a(585),fe=a(89),he=a(49);a(431);function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var be=de.a.Meta;var Ee=function(){var e=R({url:U.productListGet}),t=e.doFetch,a=e.data,c=R(),o=c.doFetch,l=(c.data,Object(n.useState)(null)),i=Object(p.a)(l,2),u=i[0],m=i[1],d=function(e){m(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e))};return r.a.createElement(fe.a,{className:"product-list-wrapper",gutter:[30,30]},a instanceof Array&&a.map((function(e,t){return r.a.createElement(he.a,{span:6,key:e.slug},r.a.createElement(de.a,{cover:(a=e.colors,0!==a.length&&a[0].images&&0!==a[0].images.length&&a[0].images[0].image_name?r.a.createElement("img",{alt:"example",className:"product-first-image",src:"".concat(T).concat(a[0].images[0].small_image_link)}):r.a.createElement(pe.a,{shape:"square",size:140,icon:r.a.createElement($.a,{type:"smile",theme:"outlined"}),className:"avatar-image"})),actions:[r.a.createElement($.a,{type:"delete",key:"delete",onClick:function(){return d(e)}}),r.a.createElement("a",{href:"".concat(T,"/").concat(e.slug),target:"_blank"},r.a.createElement($.a,{type:"link",key:"link"})),r.a.createElement(s.b,{to:"product/".concat(e.slug)},r.a.createElement($.a,{type:"edit",key:"edit"}))]},r.a.createElement(be,{title:e.name,description:"".concat(e.category_slug," ").concat(e.category_type_slug?"-".concat(e.category_type_slug):"")})));var a})),r.a.createElement(te.a,{title:"Delete product: ".concat(u&&u.name),visible:!!u,onOk:function(){o({url:U.productDelete({slug:u.slug}),method:"POST",onSuccess:function(e){t({url:U.productListGet}),m(null)}})},onCancel:function(){return m(null)}},"Do you confirm deleteing the product?"))},ye=a(48),Oe=a(592),ve=a(105),je=a(586),Se=a(587),Ce=a(588),we=a(265),ke=a.n(we),ze=(a(477),{toolbar:[["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"]],clipboard:{matchVisual:!1}}),Ne=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var Pe=function(e){var t=e.placeholder,a=void 0===t?"":t,c=e.onChangeHandler,o=e.initialValue,l=void 0===o?"":o,i=Object(n.useState)(""),s=Object(p.a)(i,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){!u&&l&&m(l)}),[l]),r.a.createElement(ke.a,{onChange:function(e){m(e),c(e)},value:u,modules:ze,formats:Ne,placeholder:a})},Ie=function(e,t){var a=function(){var a=this;this.data={},e&&Array.isArray(e)?(e.map((function(e){a.data[e[t]]=e})),this.size=e.length):this.size=0};return a.prototype.keys=function(){return Object.keys(this.data)},a.prototype.values=function(){return Object.values(this.data)},new a},_e=function(e,t){for(var a,n,r=[],c={},o=0,l=e.length;o<l;o++)c[(a=e[o]).id]=a,c[a.id].children=[],c[a.id].key=a.id;for(var i in c)c.hasOwnProperty(i)&&((n=c[i])[t||"parent_id"]?c[n[t||"parent_id"]].children.push(n):r.push(n));return r},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")},Fe=function(e){for(var t=[],a=0;a<e.length;++a){var n=e[a];if(-1!==t.indexOf(n))return!0;t.push(n)}return!1};a(478);function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function De(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ae=Oe.a.Title,Ve=ve.a.Option;var Le=ie.a.create({name:"loginForm"})((function(e){var t=e.form,a=e.handleFormSubmit,c=e.productsList,o=void 0===c?[]:c,l=e.productObj,i=void 0===l?{}:l,s=t.getFieldDecorator,u=t.validateFields,d=t.setFieldsValue,f=t.getFieldValue,h=t.getFieldsValue,b=Object(n.useContext)(W).data,E=b.categories,y=void 0===E?[]:E,O=b.sizes,v=void 0===O?[]:O,j=b.colors,S=void 0===j?[]:j,C=_e(y),w=Object(n.useState)([]),k=Object(p.a)(w,2),z=k[0],N=k[1],P=Object(n.useState)([]),x=Object(p.a)(P,2),F=x[0],D=x[1],A=Object(n.useState)([0]),V=Object(p.a)(A,2),L=V[0],G=V[1],q=Object(n.useState)([0]),J=Object(p.a)(q,2),K=J[0],Z=J[1],Q=Object(n.useState)({0:[]}),X=Object(p.a)(Q,2),Y=X[0],ee=X[1],te=R().doFetch,ae=M(i),ne=M(C);Object(n.useEffect)((function(){var e=JSON.stringify(ae)!==JSON.stringify(i),t=JSON.stringify(ne)!==JSON.stringify(C);(e||t)&&(i.category&&ce(i.category),i.type&&oe(i.type),i.type&&d({type:i.type}),i.sizeFieldsCountArr&&G(i.sizeFieldsCountArr),i.colorFieldsCountArr&&Z(i.colorFieldsCountArr),i.imageListObj&&ee(i.imageListObj))}),[i,C]);var re=function(){var e=Object(_.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,u();case 3:n=e.sent,a(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){var t=C.findIndex((function(t){var a=t.id;return e==a}));N(C[t]?C[t].children:[]),d({type:void 0})},oe=function(e){var t=z.findIndex((function(t){var a=t.id;return e==a}));D(z[t]?z[t].children:[]),d({tag:void 0})},le=function(e){m.a.warning({placement:"bottomRight",message:"An error occured!",duration:4,description:e})};return r.a.createElement(fe.a,null,r.a.createElement(ie.a,{onSubmit:re,className:"form-wrapper"},r.a.createElement(fe.a,null,r.a.createElement(he.a,{span:12},r.a.createElement(ie.a.Item,{label:"Name:"},s("name",{initialValue:i.name,rules:[{required:!0,message:"Please enter product name!"}]})(r.a.createElement(se.a,{placeholder:"product name",size:"large"})))),r.a.createElement(he.a,{span:12})),r.a.createElement(je.a,null),r.a.createElement(fe.a,{gutter:[20,0]},r.a.createElement(he.a,{span:8},r.a.createElement(ie.a.Item,{label:"Category"},s("category",{initialValue:i.category,rules:[{required:!0,message:"Please select the category!"}]})(r.a.createElement(ve.a,{placeholder:"Select a category",onChange:ce},C.map((function(e,t){return r.a.createElement(Ve,{value:e.id,key:t},e.name)})))))),r.a.createElement(he.a,{span:8},z.length>0&&r.a.createElement(ie.a.Item,{label:"Type"},s("type",{initialValue:i.type,rules:[{required:!0,message:"Please select the type!"}]})(r.a.createElement(ve.a,{placeholder:"Select a type",onChange:oe},z.map((function(e,t){return r.a.createElement(Ve,{value:e.id,key:t},e.name)})))))),r.a.createElement(he.a,{span:8},F.length>0&&r.a.createElement(ie.a.Item,{label:"Tag"},s("tag",{initialValue:i.tag})(r.a.createElement(ve.a,{placeholder:"Select a tag"},F.map((function(e,t){return r.a.createElement(Ve,{value:e.id,key:t},e.name)}))))))),r.a.createElement(je.a,null),r.a.createElement(fe.a,null,r.a.createElement(ie.a.Item,{label:"Description"},s("description",{initialValue:i.description})(r.a.createElement(Pe,{placeholder:"Description",initialValue:i.description,onChangeHandler:function(e){d({description:e})}})))),r.a.createElement(je.a,null),r.a.createElement(fe.a,null,r.a.createElement(ie.a.Item,{label:"Details"},s("details",{initialValue:i.details})(r.a.createElement(Pe,{placeholder:"Details",onChangeHandler:function(e){d({details:e})},initialValue:i.description})))),r.a.createElement(je.a,null),r.a.createElement(fe.a,null,r.a.createElement(ie.a.Item,{label:"Main Price",className:"price-input"},s("mainPrice",{initialValue:i.mainPrice})(r.a.createElement(se.a,{size:"large"})))),r.a.createElement(je.a,null),r.a.createElement(fe.a,null,r.a.createElement(ie.a.Item,{label:"Is Best Product:"},s("isBest",{initialValue:i.isBest})(r.a.createElement(Se.a,{checked:f("isBest")})))),r.a.createElement(je.a,null),r.a.createElement(fe.a,null,r.a.createElement(ie.a.Item,{label:"Is Handmade Product:"},s("isHandmade",{initialValue:i.isHandmade})(r.a.createElement(Se.a,{checked:f("isHandmade")})))),r.a.createElement(je.a,null),r.a.createElement(fe.a,null,r.a.createElement(ie.a.Item,{label:"Is Product Out Of Stock:"},s("isOutOfStuck",{initialValue:i.isOutOfStuck})(r.a.createElement(Se.a,{checked:f("isOutOfStuck")})))),r.a.createElement(je.a,null),r.a.createElement(fe.a,null,r.a.createElement(he.a,{span:8},r.a.createElement(ie.a.Item,{label:"Product Place:"},s("sortPlace",{initialValue:i.sortPlace||B})(r.a.createElement(ve.a,{showSearch:!0,placeholder:"Select a product",optionFilterProp:"children",filterOption:function(e,t){return(Array.isArray(t.props.children)?t.props.children.join(""):t.props.children).toLowerCase().indexOf(e.toLowerCase())>=0}},r.a.createElement(Ve,{value:H,style:{color:"#7bb3b3"}},"At First"),r.a.createElement(Ve,{value:B,style:{color:"#7bb3b3"}},"At Last"),o.map((function(e){var t=e.id,a=e.name;return i.name!==a&&r.a.createElement(Ve,{key:t,value:t},"Before: ",a)}))))))),r.a.createElement(je.a,null),r.a.createElement(fe.a,null,r.a.createElement(fe.a,null,r.a.createElement(Ae,{level:4},"Sizes")),L.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(ie.a.Item,{className:"hidden"},s("sizeRefId".concat(e),{initialValue:i["sizeRefId".concat(e)]})(r.a.createElement(se.a,null))),r.a.createElement(fe.a,{gutter:[5,0],key:e},r.a.createElement(he.a,{span:3},r.a.createElement(ie.a.Item,{label:"Size:"},s("sizeOption".concat(e),{initialValue:i["sizeOption".concat(e)]})(r.a.createElement(ve.a,{placeholder:"Select a size"},v.map((function(e,t){return r.a.createElement(Ve,{value:e.id,key:t},e.name)})))))),r.a.createElement(he.a,{span:3},r.a.createElement(ie.a.Item,{label:"Size detail:"},s("sizeDetail".concat(e),{initialValue:i["sizeDetail".concat(e)]})(r.a.createElement(se.a,null)))),r.a.createElement(he.a,{span:3},r.a.createElement(ie.a.Item,{label:"Size Price:"},s("sizePrice".concat(e),{initialValue:i["sizePrice".concat(e)]})(r.a.createElement(se.a,null)))),r.a.createElement(he.a,{span:3},r.a.createElement(ie.a.Item,{label:"Height:"},s("sizeHeight".concat(e),{initialValue:i["sizeHeight".concat(e)]})(r.a.createElement(se.a,null)))),r.a.createElement(he.a,{span:3},r.a.createElement(ie.a.Item,{label:"Chest:"},s("sizeChest".concat(e),{initialValue:i["sizeChest".concat(e)]})(r.a.createElement(se.a,null)))),r.a.createElement(he.a,{span:3},r.a.createElement(ie.a.Item,{label:"Waist:"},s("sizeWaist".concat(e),{initialValue:i["sizeWaist".concat(e)]})(r.a.createElement(se.a,null)))),r.a.createElement(he.a,{span:3},r.a.createElement(ie.a.Item,{label:"Hips:"},s("sizeHips".concat(e),{initialValue:i["sizeHips".concat(e)]})(r.a.createElement(se.a,null)))),r.a.createElement(he.a,{span:3},1!==L.length&&r.a.createElement(ue.a,{className:"m-t-43 m-r-5",type:"dashed",icon:"minus",onClick:function(){return function(e,t){var a=Object(ye.a)(L);a.splice(e,1),G(a)}(t)}}),t===L.length-1&&r.a.createElement(ue.a,{className:"m-t-43",type:"dashed",icon:"plus",onClick:function(){return function(e){if(!!f("sizeOption"+e)){var t=Object(ye.a)(L);t.push(t[t.length-1]+1),G(t)}else le("please enter the size before adding a new one.")}(e)}})),r.a.createElement(he.a,{span:3})),1!==L.length&&t!==L.length-1&&r.a.createElement(je.a,{dashed:!0}))}))),r.a.createElement(je.a,null),r.a.createElement(fe.a,null,r.a.createElement(fe.a,null,r.a.createElement(Ae,{level:4},"Colors & Images")),K.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(ie.a.Item,{className:"hidden"},s("colorRefId".concat(e),{initialValue:i["colorRefId".concat(e)]})(r.a.createElement(se.a,null))),r.a.createElement(fe.a,{gutter:[10,0],key:e},r.a.createElement(he.a,{span:4},r.a.createElement(ie.a.Item,{label:"Color: ".concat(e," index: ").concat(t)},s("colorOption".concat(e),{initialValue:i["colorOption".concat(e)]})(r.a.createElement(ve.a,{placeholder:"Select a color"},S.map((function(e,t){return r.a.createElement(Ve,{value:e.id,key:t},e.name)})))))),r.a.createElement(he.a,{span:4},r.a.createElement(ie.a.Item,{label:"Color code:"},s("colorCode".concat(e),{initialValue:i["colorCode".concat(e)]})(r.a.createElement(se.a,null)))),r.a.createElement(he.a,{span:8},r.a.createElement(ie.a.Item,{label:"Color Images:",className:"product-image-upload"},s("colorImages".concat(e),{initialValue:i["colorImages".concat(e)]})(r.a.createElement(Ce.a,{listType:"picture-card",fileList:Y[e],customRequest:function(t){return function(e,t){te({method:"FILE_POST",params:{product_image:e},url:U.imageUpload,showSuccessNotification:!0,successMessage:"Image uploaded successfully.",onSuccess:function(e){var a=De({},Y);a[t].push({uid:e.image_name,thumbUrl:T+e.image_link,name:e.image_name}),ee(a),d(Object(g.a)({},"colorImages".concat(t),a[t]))}})}(t.file,e)},onRemove:function(t){return function(e,t){var a=De({},Y),n=Y[t].findIndex((function(t){var a=t.uid;return e.uid===a}));a[t].splice(n,1),ee(a),d(Object(g.a)({},"colorImages".concat(t),a[t]))}(t,e)}},Y[e]&&Y[e].length>=8?null:r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{type:"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload")))))),r.a.createElement(he.a,{span:4},r.a.createElement(ie.a.Item,{label:"Set Default Color:"},s("colorDefault".concat(e),{initialValue:i["colorDefault".concat(e)]})(r.a.createElement(Se.a,{checked:f("colorDefault".concat(e)),onChange:function(t){return function(e,t){Object.keys(h()).forEach((function(e){e.startsWith("colorDefault")&&t!=e[e.length-1]&&d(Object(g.a)({},e,!1))}))}(0,e)}})))),r.a.createElement(he.a,{span:4},1!==K.length&&r.a.createElement(ue.a,{className:"m-t-43 m-r-5",type:"dashed",icon:"minus",onClick:function(){return function(e,t){var a=Object(ye.a)(K);a.splice(e,1),Z(a);var n=Y;delete n[t],ee(n)}(t,e)}}),t===K.length-1&&r.a.createElement(ue.a,{className:"m-t-43",type:"dashed",icon:"plus",onClick:function(){return function(e){if(!!f("colorOption"+e)){var t=Object(ye.a)(K),a=t[t.length-1];t.push(a+1),Z(t),ee(De({},Y,Object(g.a)({},a+1,[])))}else le("please enter the color before adding a new one.")}(e)}}))),1!==K.length&&t!==K.length-1&&r.a.createElement(je.a,{dashed:!0}))}))),r.a.createElement(fe.a,{className:"m-t-30"},r.a.createElement(ie.a.Item,null,r.a.createElement(ue.a,{type:"primary",htmlType:"submit",size:"large"},"Save")))))})),Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).filter((function(e){return e.startsWith("sizeOption")})).map((function(t){var a=t[t.length-1];return{is_checked:!0,refId:e["sizeRefId".concat(a)],id:e["sizeOption".concat(a)],details:e["sizeDetail".concat(a)],height:e["sizeHeight".concat(a)],hips:e["sizeHips".concat(a)],chest:e["sizeChest".concat(a)],waistline:e["sizeWaist".concat(a)],size_price:e["sizePrice".concat(a)],amount:e["sizeAmount".concat(a)]}}));return t[0].id?t:[]},Me=function(e){var t=Object.keys(e).filter((function(e){return e.startsWith("colorOption")})).map((function(t){var a=t[t.length-1];return{is_checked:!0,refId:e["colorRefId".concat(a)],id:e["colorOption".concat(a)],product_color_code:e["colorCode".concat(a)],images:e["colorImages".concat(a)]?e["colorImages".concat(a)].map((function(e){return{image_name:e.name}})):[],amount:e["colorAmount".concat(a)]}}));return t[0].id?t.reverse():[]},Ue=function(e){var t=Object.keys(e).filter((function(t){return t.startsWith("colorDefault")&&!!e[t]}));if(0!==t.length){var a=t[0][t[0].length-1];return e["colorOption".concat(a)]}},He=function(e,t){var a=Ie(t,"id").values().map((function(e){return e.sort_index})),n=e===Math.min.apply(Math,Object(ye.a)(a)),r=e===Math.max.apply(Math,Object(ye.a)(a));switch(!0){case n:return H;case r:return B;default:return Math.min.apply(Math,Object(ye.a)(a.filter((function(t){return t>e}))))}},Be=function(e,t){var a,n=e.sortPlace,r=Ie(t,"id"),c=r.values().map((function(e){return e.sort_index})),o=Number(r.keys()[0]);switch(n){case B:a=null;break;case H:case o:var l=Math.min.apply(Math,Object(ye.a)(c));a=Number(Number(l-.1+1e-6).toFixed(6));break;default:var i=r.data[n].sort_index,s=Math.max.apply(Math,Object(ye.a)(c.filter((function(e){return e<i}))));for(a=Number(Number(s+1e-6).toFixed(6));c.includes(a);)a=Number(Number(a+1e-6).toFixed(6))}return a},Ge=function(e,t){return{name:e.name,slug:xe(e.name),category_id:e.category,category_type_id:e.type,description:e.description,details:e.details,price:e.mainPrice,currency:"EUR",is_best:e.isBest?"1":"0",is_handmade:e.isHandmade?"1":"0",stock_status:e.isOutOfStuck?"0":"1",default_color_id:Ue(e),sort_index:Be(e,t),sizes:Re(e),colors:Me(e)}},qe=function(e){var t;0===e.colors.length&&(t="There should be at least one color added."),0===e.sizes.length&&(t="There should be at least one size added.");var a=e.colors.map((function(e){return e.id}));Fe(a)&&(t="Colors can not be duplicated, each color should be different from the other.");var n=e.sizes.map((function(e){return e.id}));return Fe(n)&&(t="Sizes can not be duplicated, each size should be different from the other."),!t||(m.a.warning({placement:"bottomRight",errorMessage:"An error occured!",duration:7,description:t}),!1)};a(489);var We=ie.a.create({name:"loginForm"})((function(){var e=R().doFetch,t=R({url:U.productListGet,defaultValue:[]}).data,a=Object(n.useState)(!1),c=Object(p.a)(a,2),o=c[0],l=c[1];return r.a.createElement("div",{className:"main"},o&&r.a.createElement(u.a,{to:"/"}),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement(Le,{handleFormSubmit:function(a){var n=Ge(a,t);qe(n)&&e({url:U.productCreate,params:n,onSuccess:function(e){return!!e.id&&l(!0)}})},productsList:t})),r.a.createElement("div",{className:"brief-wrapper hidden"},"sdcsa"))})),Je=a(593),Ke=(a(490),Je.a.TreeNode),Ze=se.a.Search,$e=ve.a.Option;var Qe=ie.a.create({name:"categoryForm"})((function(e){var t=e.form,a=t.getFieldDecorator,c=t.validateFields,o=t.setFieldsValue,l=t.resetFields,i=Object(n.useContext)(W),s=i.data.categories,u=void 0===s?[]:s,d=i.doCategoriesFetch,f=_e(u),h=Object(n.useState)([]),g=Object(p.a)(h,2),b=g[0],E=g[1],y=Object(n.useState)(!0),O=Object(p.a)(y,2),v=O[0],j=O[1],S=Object(n.useState)(!1),C=Object(p.a)(S,2),w=C[0],k=C[1],z=Object(n.useState)([]),N=Object(p.a)(z,2),P=N[0],x=N[1],F=Object(n.useState)({}),T=Object(p.a)(F,2),D=T[0],A=T[1],V=Object(n.useState)({}),L=Object(p.a)(V,2),M=L[0],H=L[1],B=Object(n.useState)(""),G=Object(p.a)(B,2),q=G[0],J=G[1],K=Object(n.useState)(""),Z=Object(p.a)(K,2),Q=Z[0],X=Z[1],Y=R().doFetch,ee=R().doFetch,ae=R().doFetch;Object(n.useEffect)((function(){f&&f.length&&0===b.length&&E(f.map((function(e){return e.id})))}),[f]);var ne=[];!function e(t){for(var a=0;a<t.length;a++){var n=t[a],r=n.key,c=n.name;ne.push({key:r,name:c}),n.children&&e(n.children)}}(f);var re=function(){q?ee({url:U.categoryUpdate({slug:M.slug}),params:{name:q},method:"POST",showSuccessNotification:!0,successMessage:"Category ".concat(q," has been updated"),onSuccess:function(e){d(),H({}),J("")}}):m.a.warning({placement:"bottomRight",message:"Please fill the category name!",duration:4})},ce=function(){k(!1),x([]),l()},oe=function(){var e=Object(_.a)(I.a.mark((function e(t){var a,n,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c();case 3:a=e.sent,n=a.categoryName,r=a.parentCategory,o=a.parentType,ae({url:U.categoryCreate,params:{name:n,slug:xe(n),parent_id:o||r},method:"POST",showSuccessNotification:!0,successMessage:"Category ".concat(n," has been created"),onSuccess:function(e){d(),ce()}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(e){return r.a.createElement($.a,{type:"edit",onClick:function(){H(e),J(e.name)},className:"m-l-20 m-r-15",theme:"twoTone",twoToneColor:"#1890ff"})},me=function(e){return r.a.createElement($.a,{type:"delete",onClick:function(){return A(e)},theme:"twoTone",twoToneColor:"#f5222d"})};return r.a.createElement(fe.a,null,r.a.createElement(ue.a,{className:"category-add-btn",type:"primary",icon:"folder-add",onClick:function(){return k(!0)}},"Add New Category"),r.a.createElement(Ze,{style:{marginBottom:8},placeholder:"Search",onChange:function(e){var t=e.target.value,a=ne.map((function(e){return e.name&&e.name.indexOf(t)>-1?function e(t,a){for(var n,r=0;r<a.length;r++){var c=a[r];c.children&&(c.children.some((function(e){return e.key===t}))?n=c.key:e(t,c.children)&&(n=e(t,c.children)))}return n}(e.key,f):null})).filter((function(e,t,a){return e&&a.indexOf(e)===t}));X(t),E(a),j(!0)}}),r.a.createElement(Je.a,{onExpand:function(e){E(e),j(!0)},expandedKeys:b,autoExpandParent:v},function e(t){return t.map((function(t,a){var n=t.name.indexOf(Q),c=t.name.substr(0,n),o=t.name.substr(n+Q.length),l=n>-1?r.a.createElement("h3",{className:"category-item"},c,r.a.createElement("span",{style:{color:"#f50"}},Q),o,le(t),me(t)):r.a.createElement("h3",{className:"category-item"},t.name,le(t),me(t));return t.children?r.a.createElement(Ke,{key:t.key,title:l},e(t.children)):r.a.createElement(Ke,{key:t.key,title:l})}))}(f)),r.a.createElement(te.a,{title:"Delete category - ".concat(D.name),visible:!!D.id,onOk:function(){Y({url:U.categoryDelete({slug:D.slug}),method:"POST",showSuccessNotification:!0,successMessage:"Category ".concat(D.name," has been deleted"),onSuccess:function(e){d(),A({})}})},onCancel:function(){return A({})}},"would you really like to Delete ",r.a.createElement("b",null,D.name)," category?"),r.a.createElement(te.a,{title:"Update category - ".concat(M.name),visible:!!M.id,onOk:re,onCancel:function(){return H({})}},r.a.createElement(se.a,{value:q,onPressEnter:re,onChange:function(e){return J(e.target.value)}})),r.a.createElement(te.a,{title:"Create new category",visible:w,onOk:oe,okText:"Create",onCancel:ce},r.a.createElement(ie.a,{onSubmit:oe,className:"login-form"},r.a.createElement(ie.a.Item,{label:"Name"},a("categoryName",{rules:[{required:!0,message:"Please enter category name!"}]})(r.a.createElement(se.a,{placeholder:"Name",size:"large"}))),r.a.createElement(ie.a.Item,{label:"Under Category"},a("parentCategory")(r.a.createElement(ve.a,{placeholder:"Select a category",onChange:function(e){var t=f.findIndex((function(t){var a=t.id;return e===a}));x(f[t].children),o({parentType:void 0})}},f.map((function(e,t){return r.a.createElement($e,{value:e.id,key:t},e.name)}))))),P.length>0&&r.a.createElement(ie.a.Item,{label:"Under Type"},a("parentType")(r.a.createElement(ve.a,{placeholder:"Select a type"},P.map((function(e,t){return r.a.createElement($e,{value:e.id,key:t},e.name)}))))))))})),Xe=a(590);var Ye=function(){var e=Object(n.useContext)(W),t=e.data.sizes,a=void 0===t?[]:t,c=e.doSizesFetch,o=Object(n.useState)({}),l=Object(p.a)(o,2),i=l[0],s=l[1],u=Object(n.useState)({}),d=Object(p.a)(u,2),f=d[0],h=d[1],g=Object(n.useState)(""),b=Object(p.a)(g,2),E=b[0],y=b[1],O=Object(n.useState)(!1),v=Object(p.a)(O,2),j=v[0],S=v[1],C=Object(n.useState)(""),w=Object(p.a)(C,2),k=w[0],z=w[1],N=R().doFetch,P=R().doFetch,I=R().doFetch,_=function(){S(!1),z("")},x=function(){E?P({url:U.sizeUpdate({slug:f.slug}),params:{name:E},method:"POST",showSuccessNotification:!0,successMessage:"Size ".concat(E," has been updated"),onSuccess:function(e){c(),h({}),y("")}}):m.a.warning({placement:"bottomRight",message:"Please fill the size name!",duration:4})},F=function(){k?N({url:U.sizeCreate,params:{name:k,slug:xe(k)},method:"POST",showSuccessNotification:!0,successMessage:"Size ".concat(k," has been created"),onSuccess:function(e){c(),_()}}):m.a.warning({placement:"bottomRight",message:"Please fill the size name!",duration:4})};return r.a.createElement(fe.a,null,r.a.createElement(fe.a,null,r.a.createElement(ue.a,{className:"f-r",type:"primary",icon:"folder-add",onClick:function(){return S(!0)}},"Add New Category")),r.a.createElement("h3",{style:{marginBottom:16}},"Available Sizes:"),r.a.createElement(Xe.a,{bordered:!0,dataSource:a,renderItem:function(e){return r.a.createElement(Xe.a.Item,{className:"f-s-20"},e.name,r.a.createElement("div",{className:"f-r"},r.a.createElement($.a,{type:"edit",onClick:function(){h(e),y(e.name)},className:"m-l-20 m-r-30",theme:"twoTone",twoToneColor:"#1890ff"}),r.a.createElement($.a,{type:"delete",onClick:function(){return s(e)},theme:"twoTone",twoToneColor:"#f5222d"})))}}),r.a.createElement(te.a,{title:"Delete size - ".concat(i.name),visible:!!i.id,onOk:function(){I({url:U.sizeDelete({slug:i.slug}),method:"POST",showSuccessNotification:!0,successMessage:"Size ".concat(i.name," has been deleted"),onSuccess:function(e){c(),s({})}})},onCancel:function(){return s({})}},"would you really like to Delete ",r.a.createElement("b",null,i.name)," size?"),r.a.createElement(te.a,{title:"Update size - ".concat(f.name),visible:!!f.id,onOk:x,onCancel:function(){return h({})}},r.a.createElement(se.a,{value:E,onPressEnter:x,onChange:function(e){return y(e.target.value)}})),r.a.createElement(te.a,{title:"Create new size",visible:j,onOk:F,onCancel:_},"name:",r.a.createElement(se.a,{value:k,onPressEnter:F,onChange:function(e){return z(e.target.value)}})))};a(491);var et=function(){var e=Object(n.useContext)(W),t=e.data.colors,a=void 0===t?[]:t,c=e.doColorsFetch,o=Object(n.useState)({}),l=Object(p.a)(o,2),i=l[0],s=l[1],u=Object(n.useState)({}),d=Object(p.a)(u,2),f=d[0],h=d[1],g=Object(n.useState)(""),b=Object(p.a)(g,2),E=b[0],y=b[1],O=Object(n.useState)(!1),v=Object(p.a)(O,2),j=v[0],S=v[1],C=Object(n.useState)(""),w=Object(p.a)(C,2),k=w[0],z=w[1],N=Object(n.useState)(""),P=Object(p.a)(N,2),I=(P[0],P[1]),_=Object(n.useState)(!1),x=Object(p.a)(_,2),F=(x[0],x[1]),T=R().doFetch,D=R().doFetch,A=R().doFetch,V=function(){S(!1),F(!1),I(""),z("")},L=function(){E?D({url:U.colorUpdate({slug:f.slug}),params:{name:E},method:"POST",showSuccessNotification:!0,successMessage:"Color ".concat(E," has been updated"),onSuccess:function(e){c(),h({}),y("")}}):m.a.warning({placement:"bottomRight",message:"Please fill the color name!",duration:4})},M=function(){k?T({url:U.colorCreate,params:{name:k,slug:xe(k)},method:"POST",showSuccessNotification:!0,successMessage:"Color ".concat(k," has been created"),onSuccess:function(e){c(),V()}}):m.a.warning({placement:"bottomRight",message:"Please fill the color name!",duration:4})};return r.a.createElement(fe.a,null,r.a.createElement(fe.a,null,r.a.createElement(ue.a,{className:"f-r",type:"primary",icon:"folder-add",onClick:function(){return S(!0)}},"Add New Category")),r.a.createElement("h3",{style:{marginBottom:16}},"Available Colors:"),r.a.createElement(Xe.a,{bordered:!0,dataSource:a,renderItem:function(e){return r.a.createElement(Xe.a.Item,{className:"f-s-20"},r.a.createElement("div",{className:"w-100"},r.a.createElement("div",{className:"f-l"},r.a.createElement("span",{className:"m-r-30"},e.name)),r.a.createElement("div",{className:"f-r"},r.a.createElement($.a,{type:"edit",onClick:function(){h(e),y(e.name)},className:"m-l-20 m-r-30",theme:"twoTone",twoToneColor:"#1890ff"}),r.a.createElement($.a,{type:"delete",onClick:function(){return s(e)},theme:"twoTone",twoToneColor:"#f5222d"}))))}}),r.a.createElement(te.a,{title:"Delete color - ".concat(i.name),visible:!!i.id,onOk:function(){A({url:U.colorDelete({slug:i.slug}),method:"POST",showSuccessNotification:!0,successMessage:"Color ".concat(i.name," has been deleted"),onSuccess:function(e){c(),s({})}})},onCancel:function(){return s({})}},"would you really like to Delete ",r.a.createElement("b",null,i.name)," color?"),r.a.createElement(te.a,{title:"Update color - ".concat(f.name),visible:!!f.id,onOk:L,onCancel:function(){return h({})}},r.a.createElement("div",{className:"m-b-10"},"Name:"),r.a.createElement(se.a,{value:E,className:"m-b-30",onPressEnter:L,onChange:function(e){return y(e.target.value)}})),r.a.createElement(te.a,{title:"Create new color",visible:j,onOk:M,onCancel:V},r.a.createElement("div",{className:"m-b-10"},"Name:"),r.a.createElement(se.a,{value:k,className:"m-b-30",onPressEnter:M,onChange:function(e){return z(e.target.value)}})))},tt=a(90);var at=[{path:"/",component:Ee,name:"Products",icon:"shop",showAlways:!0},{path:"/create-product",component:We,name:"Create Product",icon:"upload",showAlways:!0},{path:"/categories",component:Qe,name:"Categories",icon:"menu-unfold",showAlways:!0},{path:"/sizes",component:Ye,name:"Sizes",icon:"menu-unfold",showAlways:!0},{path:"/colors",component:et,name:"Colors",icon:"menu-unfold",showAlways:!0},{path:"/product/:productSlug",component:function(e){var t=e.match.params.productSlug,a=R({url:U.productItemGet({slug:t}),defaultValue:{sizes:[],colors:[]},onError:function(e){m(!0)}}).data,c=R({url:U.productListGet,defaultValue:[]}).data,o=R().doFetch,l=Object(n.useState)(!1),i=Object(p.a)(l,2),s=i[0],m=i[1],d=Object(n.useState)(!1),f=Object(p.a)(d,2),h=f[0],g=f[1],b={name:a.name,category:a.category_id,type:a.category_type_id,tag:a.category_tag_id,description:a.description,details:a.details,mainPrice:a.price,isBest:!!a.is_best,isHandmade:!!a.is_handmade,isOutOfStuck:!a.stock_status,sortPlace:He(a.sort_index,c),sizeFieldsCountArr:a.sizes.length>0?a.sizes.map((function(e,t){return t})):[0],colorFieldsCountArr:a.colors.length>0?a.colors.map((function(e,t){return t})):[0]};return a.sizes.forEach((function(e,t){b["sizeOption".concat(t)]=e.size_id,b["sizeDetail".concat(t)]=e.size_details,b["sizePrice".concat(t)]=e.size_price,b["sizeHeight".concat(t)]=e.height,b["sizeChest".concat(t)]=e.chest,b["sizeWaist".concat(t)]=e.waistline,b["sizeHips".concat(t)]=e.hips,b["sizeRefId".concat(t)]=e.id})),a.colors.forEach((function(e,t){b["colorOption".concat(t)]=e.color_id,b["colorCode".concat(t)]=e.product_color_code,b["colorDefault".concat(t)]=a.default_color_id===e.color_id,b["colorRefId".concat(t)]=e.id,b["colorImages".concat(t)]=e.images&&e.images.map((function(e){return{name:e.image_name,thumbUrl:T+e.thumbnail_image_link,uid:e.id}}))})),b.imageListObj=b.colorFieldsCountArr.reduce((function(e,t){return e[t]=a.colors[t]&&a.colors[t].images.length>0?a.colors[t].images.map((function(e){return{name:e.image_name,thumbUrl:T+e.thumbnail_image_link,uid:e.id}})):[],e}),{}),h?r.a.createElement(u.a,{to:"/"}):s?r.a.createElement(tt.a,{description:"No product found!"}):r.a.createElement(Le,{handleFormSubmit:function(e){var t=Ge(e,c);delete t.slug,t.id=a.id;var n=a.sizes.map((function(e){return e.id})),r=t.sizes.map((function(e){return e.refId}));n.forEach((function(e){r.includes(e)||t.sizes.push({id:a.sizes.find((function(t){var a=t.id;return e===a})).size_id,is_checked:!1})}));var l=a.colors.map((function(e){return e.id})),i=t.colors.map((function(e){return e.refId}));l.forEach((function(e){i.includes(e)||t.colors.push({id:a.colors.find((function(t){var a=t.id;return e===a})).color_id,is_checked:!1})})),qe(t)&&o({url:U.productUpdate({slug:a.slug}),params:t,showSuccessNotification:!0,onSuccess:function(e){return!!e.id&&g(!0)}})},productsList:c,productObj:b})},name:"Product details",icon:"team",showAlways:!1}],nt=[{path:"/login",component:me,name:"Dashboard",noAuth:!0},{path:"/",component:le,name:"Main Layout"}];a(582);var rt=function(e){var t=e.history,a=i.a.get("authenticationToken"),c=Object(n.useContext)(f),o=c.loading,l=c.error,p=c.successNotification,h=Object(n.useContext)(W),g=h.doCategoriesFetch,b=h.doColorsFetch,E=h.doSizesFetch,y=h.data,O=y.categories,v=y.colors,j=y.sizes;return Object(n.useEffect)((function(){var e=V(l),t="authentication failed"===e;a&&((!O||0===O.length)&&g(),(!v||0===v.length)&&b(),(!j||0===j.length)&&E()),l&&!t&&m.a.error({placement:"bottomRight",message:"An error occured!",duration:3,description:e}),p&&m.a.success({placement:"bottomRight",message:p,duration:3}),t&&i.a.set("authenticationToken",null)}),[l,p,a]),r.a.createElement(n.Fragment,null,r.a.createElement(d.a,{spinning:o},r.a.createElement(s.a,{history:t,basename:"/admin-dashboard"},r.a.createElement(u.d,null,nt.map((function(e){return r.a.createElement(u.b,{key:e.path,path:e.path,component:e.component})}))),!a&&r.a.createElement(u.a,{to:"/login"}))))};var ct=function(){var e=i.a.get("authenticationToken");return e&&A(e),r.a.createElement(h,null,r.a.createElement(J,null,r.a.createElement(rt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ct,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[271,1,2]]]);
//# sourceMappingURL=main.e963bcb2.chunk.js.map