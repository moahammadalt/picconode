(this["webpackJsonppicco-admin"]=this["webpackJsonppicco-admin"]||[]).push([[0],{177:function(e,t,a){e.exports=a.p+"static/media/favicon.39971fa2.png"},221:function(e,t,a){e.exports=a(463)},308:function(e,t,a){},386:function(e,t,a){},450:function(e,t,a){},461:function(e,t,a){},462:function(e,t,a){},463:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),l=a(34),i=a.n(l),s=a(53),u=a(41),m=a(478),p=a(468),d=(a(236),a(16)),f=Object(n.createContext)();function g(e){var t=e.children,a=Object(n.useState)(!1),c=Object(d.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)("dark"),s=Object(d.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)(!1),g=Object(d.a)(p,2),h=g[0],E=g[1],b=Object(n.useState)(null),O=Object(d.a)(b,2),y=O[0],v=O[1],j=Object(n.useState)(!1),w=Object(d.a)(j,2),S={sideBarCollapsed:o,setCollapsed:l,theme:u,setTheme:m,loading:h,setLoading:E,error:y,setError:v,successNotification:w[0],setSuccessNotification:w[1]};return r.a.createElement(f.Provider,{value:S},t)}var h=a(46),E="SET_CATEGORIES",b="INIT_CATEGORIES",O="SET_COLORS",y="INIT_COLORS",v="SET_SIZES",j="INIT_SIZES",w=[],S=function(e,t){switch(t.type){case E:return{categories:t.payload};case b:return{categories:w};default:throw new Error("Unexpected action")}},k=[],C=function(e,t){switch(t.type){case O:return{colors:t.payload};case y:return{colors:k};default:throw new Error("Unexpected action")}},I=[],P=function(e,t){switch(t.type){case v:return{sizes:t.payload};case j:return{sizes:I};default:throw new Error("Unexpected action")}},z=a(47),x=a.n(z),N=a(74),_=a(149),F=a.n(_),D="".concat("localhost"===window.location.hostname?"http://localhost:1000":window.location.origin),T=F.a.create({baseURL:"".concat(D,"/adminAPI/")}),L=function(e){e?T.defaults.headers.common.Authorization=e:delete T.defaults.headers.common.Authorization},A=function(e){return e?e.response&&e.response.data?e.response.data.errorMessage||e.message||"Generic error happened":e.message?e.message:"Generic error happened":"Generic error happened"},R=function(e){return e&&e.data&&e.data.data?e.data.data:{}};var H=function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(e),l=Object(d.a)(o,2),i=l[0],s=l[1],u=Object(n.useContext)(f),m=u.loading,p=u.setLoading,g=u.error,h=u.setError,E=u.setSuccessNotification;return Object(n.useEffect)((function(){var t=function(){var t=Object(N.a)(x.a.mark((function t(){var a,n,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(null),i.showSuccessNotification&&E(!1),t.prev=2,p(!0),a=null,t.t0=i.method,t.next="GET"===t.t0?8:"POST"===t.t0?12:"FILE_POST"===t.t0?16:22;break;case 8:return t.next=10,T.get(i.url);case 10:return a=t.sent,t.abrupt("break",33);case 12:return t.next=14,T.post(i.url,i.params);case 14:return a=t.sent,t.abrupt("break",33);case 16:for(r in n=new FormData,i.params)n.append(r,i.params[r]);return t.next=20,T.post(i.url,n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 20:return a=t.sent,t.abrupt("break",33);case 22:if(!i.params){t.next=28;break}return t.next=25,T.post(i.url,i.params);case 25:t.t1=t.sent,t.next=31;break;case 28:return t.next=30,T.get(i.url);case 30:t.t1=t.sent;case 31:return a=t.t1,t.abrupt("break",33);case 33:c(a),i.onSuccess&&i.onSuccess(R(a)),e&&e.onSuccess&&e.onSuccess(R(a)),i.showSuccessNotification&&E(i.successMessage||"request has been done successfully."),t.next=43;break;case 39:t.prev=39,t.t2=t.catch(2),console.log("err: ",t.t2),h(t.t2);case 43:return t.prev=43,p(!1),t.finish(43);case 46:case"end":return t.stop()}}),t,null,[[2,39,43,46]])})));return function(){return t.apply(this,arguments)}}();i&&t(),s(null)}),[i]),{data:R(r),error:g,loading:m,doFetch:s}};var q=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e}),[e]),t.current},B={login:"/login",dashboardRetrive:"/dashboard-retrive",categoryList:"/category",sizeList:"/size",colorList:"/color",imageUpload:"/productImage/create",productCreate:"/product/create",productListGet:"/product",productDelete:function(e){var t=e.slug;return"/product/".concat(t,"/delete")}};function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W=Object(n.createContext)();function M(e){var t=e.children,a=Object(n.useReducer)(S),c=Object(d.a)(a,2),o=c[0],l=c[1],s=Object(n.useReducer)(P),u=Object(d.a)(s,2),m=u[0],p=u[1],f=Object(n.useReducer)(C),g=Object(d.a)(f,2),h=g[0],w=g[1],k=function(e){l({type:E,payload:e})},I=function(e){p({type:v,payload:e})},z=function(e){w({type:O,payload:e})},x=H().doFetch,N=H().doFetch,_=H().doFetch,F=function(){x({url:B.categoryList,onSuccess:k})},D=function(){N({url:B.sizeList,onSuccess:I})},T=function(){_({url:B.colorList,onSuccess:z})},L=i.a.get("authenticationToken");Object(n.useEffect)((function(){L&&(F(),D(),T())}),[L]);var A={data:G({},o,{},m,{},h),setCategories:k,initCategories:function(){l({type:b})},setSizes:I,initSizes:function(){p({type:j})},setColors:z,initcolors:function(){w({type:y})},doCategoriesFetch:F,doSizesFetch:D,doColorsFetch:T};return r.a.createElement(W.Provider,{value:A},t)}var J=a(464),V=a(475),K=a(8),Z=a(206),$=a.n(Z),Q=J.a.Sider;var X=Object(u.g)((function(e){var t=e.location.pathname,c=function(e){return!!$()(e).exec(t)},o=Object(n.useContext)(f),l=o.sideBarCollapsed,i=o.setCollapsed,u=o.theme;return r.a.createElement(Q,{collapsible:!0,collapsed:l,onCollapse:function(){return i(!l)}},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:a(177),alt:""}),!l&&r.a.createElement("span",null,"Admin Logo")),r.a.createElement(V.a,{theme:u,mode:"inline",activeKey:t,selectedKeys:[t]},He.map((function(e){var a=e.path,n=e.showAlways,o=e.icon,l=e.name;return r.a.createElement(V.a.Item,{key:c(a)?t:a},(n||c(a))&&r.a.createElement(s.b,{to:a},r.a.createElement(K.a,{type:o}),r.a.createElement("span",{className:"nav-text"},l)))}))))})),Y=a(474),ee=J.a.Header;var te=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(d.a)(o,2),s=l[0],m=l[1];return r.a.createElement(ee,null,s&&r.a.createElement(u.a,{to:"/login"}),r.a.createElement("div",{className:"header-wrapper"},r.a.createElement("div",{className:"page-name"},"header"),r.a.createElement(K.a,{type:"logout",onClick:function(){return c(!0)},className:"logout-icon"})),r.a.createElement(Y.a,{title:"Log out from dashboard",visible:a,onOk:function(){i.a.set("authenticationToken",null),m(!0)},onCancel:function(){return c(!1)}},"would you really like to log out?"))},ae=J.a.Footer;var ne=function(){return r.a.createElement(ae,null,"bla bla \xa92019")},re=J.a.Content;var ce=function(){var e=Object(n.useContext)(f).sideBarCollapsed;return r.a.createElement(J.a,{style:{marginLeft:e?"80px":"200px"}},r.a.createElement(X,null),r.a.createElement(J.a,null,r.a.createElement(te,null),r.a.createElement(re,null,r.a.createElement(u.d,null,He.map((function(e){return r.a.createElement(u.b,{exact:!0,key:e.path,path:e.path,component:e.component})})),r.a.createElement(u.a,{to:"/"}))),r.a.createElement(ne,null)))},oe=a(471),le=a(477),ie=a(55);a(308);var se=oe.a.create({name:"loginForm"})((function(e){var t=e.form,n=t.getFieldDecorator,c=t.validateFields,o=!!i.a.get("authenticationToken"),l=H(),s=l.data.token,m=l.doFetch;s&&(i.a.set("authenticationToken",s),L(s));var p=function(){var e=Object(N.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.t0=m,e.t1=B.login,e.next=5,c();case 5:e.t2=e.sent,e.t3={url:e.t1,params:e.t2},(0,e.t0)(e.t3);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s||o?r.a.createElement(u.a,{to:"/"}):r.a.createElement(J.a,{className:"login-layout"},r.a.createElement("img",{src:a(177),alt:""}),r.a.createElement(oe.a,{onSubmit:p,className:"login-form"},r.a.createElement(oe.a.Item,null,n("userName",{rules:[{required:!0,message:"Please enter your username!"}]})(r.a.createElement(le.a,{prefix:r.a.createElement(K.a,{type:"user",className:"input-icon"}),placeholder:"Username",size:"large"}))),r.a.createElement(oe.a.Item,null,n("password",{rules:[{required:!0,message:"Please enter your Password!"}]})(r.a.createElement(le.a,{prefix:r.a.createElement(K.a,{type:"lock",className:"input-icon"}),type:"password",placeholder:"Password",size:"large"}))),r.a.createElement(oe.a.Item,null,r.a.createElement(ie.a,{type:"primary",htmlType:"submit",size:"large"},"Log in"))))})),ue=a(470),me=a(465),pe=a(78),de=a(37);a(386);function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ge=ue.a.Meta;var he=function(){var e=H({url:B.productListGet}),t=e.doFetch,a=e.data,c=H(),o=c.doFetch,l=c.data,i=q(l)||{},s=Object(n.useState)(null),u=Object(d.a)(s,2),m=u[0],p=u[1];Object(n.useEffect)((function(){JSON.stringify(l)!==JSON.stringify(i)&&(t({url:B.productListGet}),p(null))}),[l]);var f=function(e){p(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e))};return r.a.createElement(pe.a,{className:"product-list-wrapper",gutter:[30,30]},a instanceof Array&&a.map((function(e,t){return r.a.createElement(de.a,{span:6,key:e.slug},r.a.createElement(ue.a,{cover:(a=e.colors,0!==a.length&&a[0].images&&0!==a[0].images.length&&a[0].images[0].image_name?r.a.createElement("img",{alt:"example",className:"product-first-image",src:"".concat(D).concat(a[0].images[0].small_image_link)}):r.a.createElement(me.a,{shape:"square",size:140,icon:r.a.createElement(K.a,{type:"smile",theme:"outlined"}),className:"avatar-image"})),actions:[r.a.createElement(K.a,{type:"delete",key:"delete",onClick:function(){return f(e)}}),r.a.createElement("a",{href:"".concat(D,"/").concat(e.slug),target:"_blank"},r.a.createElement(K.a,{type:"link",key:"link"})),r.a.createElement(K.a,{type:"edit",key:"edit"})]},r.a.createElement(ge,{title:e.name,description:"".concat(e.category_slug," ").concat(e.category_type_slug?"-".concat(e.category_type_slug):"")})));var a})),r.a.createElement(Y.a,{title:"Delete product: ".concat(m&&m.name),visible:!!m,onOk:function(){o({url:B.productDelete({slug:m.slug}),method:"POST"})},onCancel:function(){return p(null)}},"Do you confirm deleteing the product?"))},Ee=a(93),be=a(472),Oe=a(473),ye=a(466),ve=a(476),je=a(467),we=a(469),Se=a(215),ke=a.n(Se),Ce=(a(449),{toolbar:[["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"]],clipboard:{matchVisual:!1}}),Ie=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var Pe=function(e){var t=e.placeholder,a=void 0===t?"":t,c=e.onChangeHandler,o=Object(n.useState)(""),l=Object(d.a)(o,2),i=l[0],s=l[1];return r.a.createElement(ke.a,{onChange:function(e){s(e),c(e)},value:i,modules:Ce,formats:Ie,placeholder:a})},ze=function(e,t){for(var a,n,r=[],c={},o=0,l=e.length;o<l;o++)c[(a=e[o]).id]=a,c[a.id].children=[];for(var i in c)c.hasOwnProperty(i)&&((n=c[i])[t||"parent_id"]?c[n[t||"parent_id"]].children.push(n):r.push(n));return r};a(450);function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _e=be.a.Title,Fe=Oe.a.Option;var De=oe.a.create({name:"loginForm"})((function(e){var t=e.form,a=e.handleFormSubmit,c=t.getFieldDecorator,o=t.validateFields,l=t.setFieldsValue,i=t.getFieldValue,s=t.getFieldsValue,u=Object(n.useContext)(W).data,p=u.categories,f=void 0===p?[]:p,g=u.sizes,E=void 0===g?[]:g,b=u.colors,O=void 0===b?[]:b,y=ze(f),v=Object(n.useState)([]),j=Object(d.a)(v,2),w=j[0],S=j[1],k=Object(n.useState)([]),C=Object(d.a)(k,2),I=C[0],P=C[1],z=Object(n.useState)([0]),_=Object(d.a)(z,2),F=_[0],T=_[1],L=Object(n.useState)([0]),A=Object(d.a)(L,2),R=A[0],q=A[1],U=Object(n.useState)({0:[]}),G=Object(d.a)(U,2),M=G[0],J=G[1],V=H().doFetch,Z=function(){var e=Object(N.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,o();case 3:n=e.sent,a(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(e){m.a.warning({placement:"bottomRight",message:"An error occured!",duration:4,description:e})};return r.a.createElement(pe.a,null,r.a.createElement(oe.a,{onSubmit:Z,className:"form-wrapper"},r.a.createElement(pe.a,null,r.a.createElement(de.a,{span:12},r.a.createElement(oe.a.Item,{label:"Name:"},c("name",{rules:[{required:!0,message:"Please enter product name!"}]})(r.a.createElement(le.a,{placeholder:"product name",size:"large"})))),r.a.createElement(de.a,{span:12})),r.a.createElement(ye.a,null),r.a.createElement(pe.a,{gutter:[20,0]},r.a.createElement(de.a,{span:8},r.a.createElement(oe.a.Item,{label:"Category"},c("category",{rules:[{required:!0,message:"Please select the category!"}]})(r.a.createElement(Oe.a,{placeholder:"Select a categorty",onChange:function(e){var t=y.findIndex((function(t){var a=t.id;return e===a}));S(y[t].children),l({type:void 0})}},y.map((function(e,t){return r.a.createElement(Fe,{value:e.id,key:t},e.name)})))))),r.a.createElement(de.a,{span:8},w.length>0&&r.a.createElement(oe.a.Item,{label:"Type"},c("type",{rules:[{required:!0,message:"Please select the type!"}]})(r.a.createElement(Oe.a,{placeholder:"Select a type",onChange:function(e){var t=w.findIndex((function(t){var a=t.id;return e===a}));P(w[t].children),l({tag:void 0})}},w.map((function(e,t){return r.a.createElement(Fe,{value:e.id,key:t},e.name)})))))),r.a.createElement(de.a,{span:8},I.length>0&&r.a.createElement(oe.a.Item,{label:"Tag"},c("tag",{rules:[{required:!0,message:"Please select the tag!"}]})(r.a.createElement(Oe.a,{placeholder:"Select a tag"},I.map((function(e,t){return r.a.createElement(Fe,{value:e.id,key:t},e.name)}))))))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(oe.a.Item,{label:"Description"},c("description")(r.a.createElement(Pe,{placeholder:"Description",onChangeHandler:function(e){l({description:e})}})))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(oe.a.Item,{label:"Details"},c("details")(r.a.createElement(Pe,{placeholder:"Details",onChangeHandler:function(e){l({details:e})}})))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(oe.a.Item,{label:"Main Price"},c("mainPrice")(r.a.createElement(ve.a,{size:"large",formatter:function(e){return"\u20ac ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\\u20ac\s?|(,*)/g,"")}})))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(oe.a.Item,{label:"Is Best Product:"},c("isBest")(r.a.createElement(je.a,null)))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(oe.a.Item,{label:"Is Handmade Product:"},c("isHandmade")(r.a.createElement(je.a,null)))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(pe.a,null,r.a.createElement(_e,{level:4},"Sizes")),F.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,{gutter:[5,0],key:e},r.a.createElement(de.a,{span:3},r.a.createElement(oe.a.Item,{label:"Size:"},c("sizeOption".concat(e))(r.a.createElement(Oe.a,{placeholder:"Select a size"},E.map((function(e,t){return r.a.createElement(Fe,{value:e.id,key:t},e.name)})))))),r.a.createElement(de.a,{span:3},r.a.createElement(oe.a.Item,{label:"Size detail:"},c("sizeDetail".concat(e))(r.a.createElement(le.a,null)))),r.a.createElement(de.a,{span:3},r.a.createElement(oe.a.Item,{label:"Size Price:"},c("sizePrice".concat(e))(r.a.createElement(ve.a,{formatter:function(e){return"\u20ac ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\\u20ac\s?|(,*)/g,"")}})))),r.a.createElement(de.a,{span:3},r.a.createElement(oe.a.Item,{label:"Height:"},c("sizeHeight".concat(e))(r.a.createElement(ve.a,null)))),r.a.createElement(de.a,{span:3},r.a.createElement(oe.a.Item,{label:"Chest:"},c("sizeChest".concat(e))(r.a.createElement(ve.a,null)))),r.a.createElement(de.a,{span:3},r.a.createElement(oe.a.Item,{label:"Waist:"},c("sizeWaist".concat(e))(r.a.createElement(ve.a,null)))),r.a.createElement(de.a,{span:3},r.a.createElement(oe.a.Item,{label:"Hips:"},c("sizeHips".concat(e))(r.a.createElement(ve.a,null)))),r.a.createElement(de.a,{span:3},1!==F.length&&r.a.createElement(ie.a,{className:"m-t-43 m-r-5",type:"dashed",icon:"minus",onClick:function(){return function(e){var t=Object(Ee.a)(F);t.splice(e,1),T(t)}(t)}}),t===F.length-1&&r.a.createElement(ie.a,{className:"m-t-43",type:"dashed",icon:"plus",onClick:function(){return function(e){if(!!i("sizeOption"+e)){var t=Object(Ee.a)(F);t.push(t[t.length-1]+1),T(t)}else $("please enter the size before adding a new one.")}(e)}})),r.a.createElement(de.a,{span:3})),1!==F.length&&t!==F.length-1&&r.a.createElement(ye.a,{dashed:!0}))}))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(pe.a,null,r.a.createElement(_e,{level:4},"Colors & Images")),R.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,{gutter:[10,0],key:e},r.a.createElement(de.a,{span:4},r.a.createElement(oe.a.Item,{label:"Color: ".concat(e," index: ").concat(t)},c("colorOption".concat(e))(r.a.createElement(Oe.a,{placeholder:"Select a color"},O.map((function(e,t){return r.a.createElement(Fe,{value:e.id,key:t},e.name)})))))),r.a.createElement(de.a,{span:4},r.a.createElement(oe.a.Item,{label:"Color code:"},c("colorCode".concat(e))(r.a.createElement(le.a,null)))),r.a.createElement(de.a,{span:8},r.a.createElement(oe.a.Item,{label:"Color Images:",className:"product-image-upload"},c("colorImages".concat(e))(r.a.createElement(we.a,{listType:"picture-card",fileList:M[e],customRequest:function(t){return function(e,t){V({method:"FILE_POST",params:{product_image:e},url:B.imageUpload,showSuccessNotification:!0,successMessage:"Image uploaded successfully.",onSuccess:function(e){var a=Ne({},M);a[t].push({uid:e.image_name,thumbUrl:D+e.image_link,name:e.image_name}),J(a),l(Object(h.a)({},"colorImages".concat(t),a[t]))}})}(t.file,e)},onRemove:function(t){return function(e,t){var a=Ne({},M),n=M[t].findIndex((function(t){var a=t.uid;return e.uid===a}));a[t].splice(n,1),J(a)}(t,e)}},M[e]&&M[e].length>=8?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{type:"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload")))))),r.a.createElement(de.a,{span:4},r.a.createElement(oe.a.Item,{label:"Set Default Color:"},c("colorDefault".concat(e))(r.a.createElement(je.a,{checked:i("colorDefault".concat(e)),onChange:function(t){return function(e,t){Object.keys(s()).forEach((function(e){e.startsWith("colorDefault")&&t!=e[e.length-1]&&l(Object(h.a)({},e,!1))}))}(0,e)}})))),r.a.createElement(de.a,{span:4},1!==R.length&&r.a.createElement(ie.a,{className:"m-t-43 m-r-5",type:"dashed",icon:"minus",onClick:function(){return function(e,t){var a=Object(Ee.a)(R);a.splice(e,1),q(a);var n=M;delete n[t],J(n)}(t,e)}}),t===R.length-1&&r.a.createElement(ie.a,{className:"m-t-43",type:"dashed",icon:"plus",onClick:function(){return function(e){if(!!i("colorOption"+e)){var t=Object(Ee.a)(R),a=t[t.length-1];t.push(a+1),q(t),J(Ne({},M,Object(h.a)({},a+1,[])))}else $("please enter the color before adding a new one.")}(e)}}))),1!==R.length&&t!==R.length-1&&r.a.createElement(ye.a,{dashed:!0}))}))),r.a.createElement(pe.a,{className:"m-t-30"},r.a.createElement(oe.a.Item,null,r.a.createElement(ie.a,{type:"primary",htmlType:"submit",size:"large"},"Save")))))})),Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).filter((function(e){return e.startsWith("sizeOption")})).map((function(t){var a=t[t.length-1];return{is_checked:!0,id:e["sizeOption".concat(a)],details:e["sizeDetail".concat(a)],height:e["sizeHeight".concat(a)],hips:e["sizeHips".concat(a)],chest:e["sizeChest".concat(a)],waistline:e["sizeWaist".concat(a)],size_price:e["sizePrice".concat(a)],amount:e["sizeAmount".concat(a)]}}));return t[0].id?t:[]},Ae=function(e){var t=Object.keys(e).filter((function(e){return e.startsWith("colorOption")})).map((function(t){var a=t[t.length-1];return{is_checked:!0,id:e["colorOption".concat(a)],product_color_code:e["colorCode".concat(a)],images:e["colorImages".concat(a)]?e["colorImages".concat(a)].map((function(e){return{image_name:e.name}})):[],amount:e["colorAmount".concat(a)]}}));return t[0].id?t:[]},Re=function(e){var t=Object.keys(e).filter((function(t){return t.startsWith("colorDefault")&&!!e[t]}));if(0!==t.length){var a=t[0][t[0].length-1];return e["colorOption".concat(a)]}};a(461);var He=[{path:"/",component:he,name:"Products",icon:"shop",showAlways:!0},{path:"/create-product",component:oe.a.create({name:"loginForm"})((function(){var e=H(),t=e.doFetch,a=(e.data,Object(n.useState)(!1)),c=Object(d.a)(a,2),o=c[0],l=c[1];return r.a.createElement("div",{className:"main"},o&&r.a.createElement(u.a,{to:"/"}),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement(De,{handleFormSubmit:function(e){var a={name:e.name,slug:Te(e.name),category_id:e.category,category_type_id:e.type,description:e.description,details:e.details,price:e.mainPrice,currency:"EUR",is_best:e.isBest?"1":"0",is_handmade:e.isHandmade?"1":"0",default_color_id:Re(e),sizes:Le(e),colors:Ae(e)};t({url:B.productCreate,params:a,onSuccess:function(e){return!!e.id&&l(!0)}})}})),r.a.createElement("div",{className:"brief-wrapper hidden"},"sdcsa"))})),name:"Create Product",icon:"upload",showAlways:!0},{path:"/product/:productSlug",component:function(){return r.a.createElement("div",null,"ProductDetails page")},name:"Product details",icon:"team",showAlways:!1}],qe=[{path:"/login",component:se,name:"Dashboard",noAuth:!0},{path:"/",component:ce,name:"Main Layout"}];a(462);var Be=function(e){var t=e.history,a=i.a.get("authenticationToken"),c=Object(n.useContext)(f),o=c.loading,l=c.error,d=c.successNotification,g=Object(n.useContext)(W),h=g.doCategoriesFetch,E=g.doColorsFetch,b=g.doSizesFetch,O=g.data,y=O.categories,v=O.colors,j=O.sizes;return Object(n.useEffect)((function(){var e=A(l),t="authentication failed"===e;a&&((!y||0===y.length)&&h(),(!v||0===v.length)&&E(),(!j||0===j.length)&&b()),l&&!t&&m.a.error({placement:"bottomRight",message:"An error occured!",duration:3,description:e}),d&&m.a.success({placement:"bottomRight",message:d,duration:3}),t&&i.a.set("authenticationToken",null)}),[l,d,a]),r.a.createElement(n.Fragment,null,r.a.createElement(p.a,{spinning:o},r.a.createElement(s.a,{history:t},r.a.createElement(u.d,null,qe.map((function(e){return r.a.createElement(u.b,{key:e.path,path:e.path,component:e.component})}))),!a&&r.a.createElement(u.a,{to:"/login"}))))};var Ue=function(){var e=i.a.get("authenticationToken");return e&&L(e),r.a.createElement(g,null,r.a.createElement(M,null,r.a.createElement(Be,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[221,1,2]]]);
//# sourceMappingURL=main.d9f39ca8.chunk.js.map