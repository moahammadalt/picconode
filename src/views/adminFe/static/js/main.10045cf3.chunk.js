(this["webpackJsonppicco-admin"]=this["webpackJsonppicco-admin"]||[]).push([[0],{177:function(e,t,a){e.exports=a.p+"static/media/favicon.39971fa2.png"},221:function(e,t,a){e.exports=a(463)},308:function(e,t,a){},386:function(e,t,a){},450:function(e,t,a){},461:function(e,t,a){},462:function(e,t,a){},463:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),l=a.n(c),o=a(34),i=a.n(o),s=a(53),u=a(41),m=a(477),p=a(468),d=(a(236),a(16)),f=Object(n.createContext)();function g(e){var t=e.children,a=Object(n.useState)(!1),c=Object(d.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)("dark"),s=Object(d.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)(!1),g=Object(d.a)(p,2),h=g[0],E=g[1],b=Object(n.useState)(null),O=Object(d.a)(b,2),y=O[0],v=O[1],j=Object(n.useState)(!1),S=Object(d.a)(j,2),w={sideBarCollapsed:l,setCollapsed:o,theme:u,setTheme:m,loading:h,setLoading:E,error:y,setError:v,successNotification:S[0],setSuccessNotification:S[1]};return r.a.createElement(f.Provider,{value:w},t)}var h=a(46),E="SET_CATEGORIES",b="INIT_CATEGORIES",O="SET_COLORS",y="INIT_COLORS",v="SET_SIZES",j="INIT_SIZES",S=[],w=function(e,t){switch(t.type){case E:return{categories:t.payload};case b:return{categories:S};default:throw new Error("Unexpected action")}},k=[],C=function(e,t){switch(t.type){case O:return{colors:t.payload};case y:return{colors:k};default:throw new Error("Unexpected action")}},I=[],P=function(e,t){switch(t.type){case v:return{sizes:t.payload};case j:return{sizes:I};default:throw new Error("Unexpected action")}},z=a(47),x=a.n(z),N=a(74),_=a(149),F=a.n(_),D="".concat("localhost"===window.location.hostname?"http://localhost:1000":window.location.origin),T=F.a.create({baseURL:"".concat(D,"/adminAPI/")}),L=function(e){e?T.defaults.headers.common.Authorization=e:delete T.defaults.headers.common.Authorization},A=function(e){return e?e.response&&e.response.data?e.response.data.errorMessage||e.message||"Generic error happened":e.message?e.message:"Generic error happened":"Generic error happened"},R=function(e){return e&&e.data&&e.data.data?e.data.data:{}};var H=function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(e),o=Object(d.a)(l,2),i=o[0],s=o[1],u=Object(n.useContext)(f),m=u.loading,p=u.setLoading,g=u.error,h=u.setError,E=u.setSuccessNotification;return Object(n.useEffect)((function(){var t=function(){var t=Object(N.a)(x.a.mark((function t(){var a,n,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(null),E(!1),t.prev=2,p(!0),a=null,t.t0=i.method,t.next="GET"===t.t0?8:"POST"===t.t0?12:"FILE_POST"===t.t0?16:22;break;case 8:return t.next=10,T.get(i.url);case 10:return a=t.sent,t.abrupt("break",33);case 12:return t.next=14,T.post(i.url,i.params);case 14:return a=t.sent,t.abrupt("break",33);case 16:for(r in n=new FormData,i.params)n.append(r,i.params[r]);return t.next=20,T.post(i.url,n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 20:return a=t.sent,t.abrupt("break",33);case 22:if(!i.params){t.next=28;break}return t.next=25,T.post(i.url,i.params);case 25:t.t1=t.sent,t.next=31;break;case 28:return t.next=30,T.get(i.url);case 30:t.t1=t.sent;case 31:return a=t.t1,t.abrupt("break",33);case 33:c(a),i.onSuccess&&i.onSuccess(R(a)),e&&e.onSuccess&&e.onSuccess(R(a)),i.showSuccessNotification&&E(i.successMessage||"request has been done successfully."),t.next=43;break;case 39:t.prev=39,t.t2=t.catch(2),console.log("err: ",t.t2),h(t.t2);case 43:return t.prev=43,p(!1),t.finish(43);case 46:case"end":return t.stop()}}),t,null,[[2,39,43,46]])})));return function(){return t.apply(this,arguments)}}();i&&t(),s(null)}),[i]),{data:R(r),error:g,loading:m,doFetch:s}};var q=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e}),[e]),t.current},U={login:"/login",dashboardRetrive:"/dashboard-retrive",categoryList:"/category",sizeList:"/size",colorList:"/color",imageUpload:"/productImage/create",productCreate:"/product/create",productListGet:"/product",productDelete:function(e){var t=e.slug;return"/product/".concat(t,"/delete")}};function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=Object(n.createContext)();function M(e){var t=e.children,a=Object(n.useReducer)(w),c=Object(d.a)(a,2),l=c[0],o=c[1],s=Object(n.useReducer)(P),u=Object(d.a)(s,2),m=u[0],p=u[1],f=Object(n.useReducer)(C),g=Object(d.a)(f,2),h=g[0],S=g[1],k=function(e){o({type:E,payload:e})},I=function(e){p({type:v,payload:e})},z=function(e){S({type:O,payload:e})},x=H().doFetch,N=H().doFetch,_=H().doFetch,F=function(){x({url:U.categoryList,onSuccess:k})},D=function(){N({url:U.sizeList,onSuccess:I})},T=function(){_({url:U.colorList,onSuccess:z})},L=i.a.get("authenticationToken");Object(n.useEffect)((function(){L&&(F(),D(),T())}),[L]);var A={data:W({},l,{},m,{},h),setCategories:k,initCategories:function(){o({type:b})},setSizes:I,initSizes:function(){p({type:j})},setColors:z,initcolors:function(){S({type:y})},doCategoriesFetch:F,doSizesFetch:D,doColorsFetch:T};return r.a.createElement(B.Provider,{value:A},t)}var J=a(464),V=a(475),K=a(8),Z=a(206),$=a.n(Z),Q=J.a.Sider;var X=Object(u.g)((function(e){var t=e.location.pathname,c=function(e){return!!$()(e).exec(t)},l=Object(n.useContext)(f),o=l.sideBarCollapsed,i=l.setCollapsed,u=l.theme;return r.a.createElement(Q,{collapsible:!0,collapsed:o,onCollapse:function(){return i(!o)}},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:a(177),alt:""}),!o&&r.a.createElement("span",null,"Admin Logo")),r.a.createElement(V.a,{theme:u,mode:"inline",activeKey:t,selectedKeys:[t]},Re.map((function(e){var a=e.path,n=e.showAlways,l=e.icon,o=e.name;return r.a.createElement(V.a.Item,{key:c(a)?t:a},(n||c(a))&&r.a.createElement(s.b,{to:a},r.a.createElement(K.a,{type:l}),r.a.createElement("span",{className:"nav-text"},o)))}))))})),Y=a(474),ee=J.a.Header;var te=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(d.a)(l,2),s=o[0],m=o[1];return r.a.createElement(ee,null,s&&r.a.createElement(u.a,{to:"/login"}),r.a.createElement("div",{className:"header-wrapper"},r.a.createElement("div",{className:"page-name"},"header"),r.a.createElement(K.a,{type:"logout",onClick:function(){return c(!0)},className:"logout-icon"})),r.a.createElement(Y.a,{title:"Log out from dashboard",visible:a,onOk:function(){i.a.set("authenticationToken",null),m(!0)},onCancel:function(){return c(!1)}},"would you really like to log out?"))},ae=J.a.Footer;var ne=function(){return r.a.createElement(ae,null,"bla bla \xa92019")},re=J.a.Content;var ce=function(){var e=Object(n.useContext)(f).sideBarCollapsed;return r.a.createElement(J.a,{style:{marginLeft:e?"80px":"200px"}},r.a.createElement(X,null),r.a.createElement(J.a,null,r.a.createElement(te,null),r.a.createElement(re,null,r.a.createElement(u.d,null,Re.map((function(e){return r.a.createElement(u.b,{exact:!0,key:e.path,path:e.path,component:e.component})})),r.a.createElement(u.a,{to:"/"}))),r.a.createElement(ne,null)))},le=a(471),oe=a(476),ie=a(55);a(308);var se=le.a.create({name:"loginForm"})((function(e){var t=e.form,n=t.getFieldDecorator,c=t.validateFields,l=!!i.a.get("authenticationToken"),o=H(),s=o.data.token,m=o.doFetch;s&&(i.a.set("authenticationToken",s),L(s));var p=function(){var e=Object(N.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.t0=m,e.t1=U.login,e.next=5,c();case 5:e.t2=e.sent,e.t3={url:e.t1,params:e.t2},(0,e.t0)(e.t3);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s||l?r.a.createElement(u.a,{to:"/"}):r.a.createElement(J.a,{className:"login-layout"},r.a.createElement("img",{src:a(177),alt:""}),r.a.createElement(le.a,{onSubmit:p,className:"login-form"},r.a.createElement(le.a.Item,null,n("userName",{rules:[{required:!0,message:"Please enter your username!"}]})(r.a.createElement(oe.a,{prefix:r.a.createElement(K.a,{type:"user",className:"input-icon"}),placeholder:"Username",size:"large"}))),r.a.createElement(le.a.Item,null,n("password",{rules:[{required:!0,message:"Please enter your Password!"}]})(r.a.createElement(oe.a,{prefix:r.a.createElement(K.a,{type:"lock",className:"input-icon"}),type:"password",placeholder:"Password",size:"large"}))),r.a.createElement(le.a.Item,null,r.a.createElement(ie.a,{type:"primary",htmlType:"submit",size:"large"},"Log in"))))})),ue=a(470),me=a(465),pe=a(78),de=a(37);a(386);function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ge=ue.a.Meta;var he=function(){var e=H({url:U.productListGet}),t=e.doFetch,a=e.data,c=H(),l=c.doFetch,o=c.data,i=q(o)||{},s=Object(n.useState)(null),u=Object(d.a)(s,2),m=u[0],p=u[1];Object(n.useEffect)((function(){JSON.stringify(o)!==JSON.stringify(i)&&(t({url:U.productListGet}),p(null))}),[o]);var f=function(e){p(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e))};return r.a.createElement(pe.a,{className:"product-list-wrapper",gutter:[30,30]},a instanceof Array&&a.map((function(e,t){return r.a.createElement(de.a,{span:6,key:e.slug},r.a.createElement(ue.a,{cover:(a=e.colors,0!==a.length&&a[0].images&&0!==a[0].images.length&&a[0].images[0].image_name?r.a.createElement("img",{alt:"example",className:"product-first-image",src:"".concat(D).concat(a[0].images[0].small_image_link)}):r.a.createElement(me.a,{shape:"square",size:140,icon:r.a.createElement(K.a,{type:"smile",theme:"outlined"}),className:"avatar-image"})),actions:[r.a.createElement(K.a,{type:"delete",key:"delete",onClick:function(){return f(e)}}),r.a.createElement("a",{href:"".concat(D,"/").concat(e.slug),target:"_blank"},r.a.createElement(K.a,{type:"link",key:"link"})),r.a.createElement(K.a,{type:"edit",key:"edit"})]},r.a.createElement(ge,{title:e.name,description:"".concat(e.category_slug," ").concat(e.category_type_slug?"-".concat(e.category_type_slug):"")})));var a})),r.a.createElement(Y.a,{title:"Delete product: ".concat(m&&m.name),visible:!!m,onOk:function(){l({url:U.productDelete({slug:m.slug}),method:"POST"})},onCancel:function(){return p(null)}},"Do you confirm deleteing the product?"))},Ee=a(93),be=a(472),Oe=a(473),ye=a(466),ve=a(467),je=a(469),Se=a(215),we=a.n(Se),ke=(a(449),{toolbar:[["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"]],clipboard:{matchVisual:!1}}),Ce=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var Ie=function(e){var t=e.placeholder,a=void 0===t?"":t,c=e.onChangeHandler,l=Object(n.useState)(""),o=Object(d.a)(l,2),i=o[0],s=o[1];return r.a.createElement(we.a,{onChange:function(e){s(e),c(e)},value:i,modules:ke,formats:Ce,placeholder:a})},Pe=function(e,t){for(var a,n,r=[],c={},l=0,o=e.length;l<o;l++)c[(a=e[l]).id]=a,c[a.id].children=[];for(var i in c)c.hasOwnProperty(i)&&((n=c[i])[t||"parent_id"]?c[n[t||"parent_id"]].children.push(n):r.push(n));return r};a(450);function ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ze(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ze(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ne=be.a.Title,_e=Oe.a.Option;var Fe=le.a.create({name:"loginForm"})((function(e){var t=e.form,a=e.handleFormSubmit,c=t.getFieldDecorator,l=t.validateFields,o=t.setFieldsValue,i=t.getFieldValue,s=t.getFieldsValue,u=Object(n.useContext)(B).data,p=u.categories,f=void 0===p?[]:p,g=u.sizes,E=void 0===g?[]:g,b=u.colors,O=void 0===b?[]:b,y=Pe(f),v=Object(n.useState)([]),j=Object(d.a)(v,2),S=j[0],w=j[1],k=Object(n.useState)([]),C=Object(d.a)(k,2),I=C[0],P=C[1],z=Object(n.useState)([0]),_=Object(d.a)(z,2),F=_[0],T=_[1],L=Object(n.useState)([0]),A=Object(d.a)(L,2),R=A[0],q=A[1],G=Object(n.useState)({0:[]}),W=Object(d.a)(G,2),M=W[0],J=W[1],V=H().doFetch,Z=function(){var e=Object(N.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,l();case 3:n=e.sent,a(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(e){m.a.warning({placement:"bottomRight",message:"An error occured!",duration:4,description:e})};return r.a.createElement(pe.a,null,r.a.createElement(le.a,{onSubmit:Z,className:"form-wrapper"},r.a.createElement(pe.a,null,r.a.createElement(de.a,{span:12},r.a.createElement(le.a.Item,{label:"Name:"},c("name",{rules:[{required:!0,message:"Please enter product name!"}]})(r.a.createElement(oe.a,{placeholder:"product name",size:"large"})))),r.a.createElement(de.a,{span:12})),r.a.createElement(ye.a,null),r.a.createElement(pe.a,{gutter:[20,0]},r.a.createElement(de.a,{span:8},r.a.createElement(le.a.Item,{label:"Category"},c("category",{rules:[{required:!0,message:"Please select the category!"}]})(r.a.createElement(Oe.a,{placeholder:"Select a categorty",onChange:function(e){var t=y.findIndex((function(t){var a=t.id;return e===a}));w(y[t].children),o({type:void 0})}},y.map((function(e,t){return r.a.createElement(_e,{value:e.id,key:t},e.name)})))))),r.a.createElement(de.a,{span:8},S.length>0&&r.a.createElement(le.a.Item,{label:"Type"},c("type",{rules:[{required:!0,message:"Please select the type!"}]})(r.a.createElement(Oe.a,{placeholder:"Select a type",onChange:function(e){var t=S.findIndex((function(t){var a=t.id;return e===a}));P(S[t].children),o({tag:void 0})}},S.map((function(e,t){return r.a.createElement(_e,{value:e.id,key:t},e.name)})))))),r.a.createElement(de.a,{span:8},I.length>0&&r.a.createElement(le.a.Item,{label:"Tag"},c("tag",{rules:[{required:!0,message:"Please select the tag!"}]})(r.a.createElement(Oe.a,{placeholder:"Select a tag"},I.map((function(e,t){return r.a.createElement(_e,{value:e.id,key:t},e.name)}))))))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(le.a.Item,{label:"Description"},c("description")(r.a.createElement(Ie,{placeholder:"Description",onChangeHandler:function(e){o({description:e})}})))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(le.a.Item,{label:"Details"},c("details")(r.a.createElement(Ie,{placeholder:"Details",onChangeHandler:function(e){o({details:e})}})))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(le.a.Item,{label:"Main Price",className:"price-input"},c("mainPrice")(r.a.createElement(oe.a,{size:"large"})))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(le.a.Item,{label:"Is Best Product:"},c("isBest")(r.a.createElement(ve.a,null)))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(le.a.Item,{label:"Is Handmade Product:"},c("isHandmade")(r.a.createElement(ve.a,null)))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(le.a.Item,{label:"Is Product Out Of Stock:"},c("isOutOfStuck")(r.a.createElement(ve.a,null)))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(pe.a,null,r.a.createElement(Ne,{level:4},"Sizes")),F.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,{gutter:[5,0],key:e},r.a.createElement(de.a,{span:3},r.a.createElement(le.a.Item,{label:"Size:"},c("sizeOption".concat(e))(r.a.createElement(Oe.a,{placeholder:"Select a size"},E.map((function(e,t){return r.a.createElement(_e,{value:e.id,key:t},e.name)})))))),r.a.createElement(de.a,{span:3},r.a.createElement(le.a.Item,{label:"Size detail:"},c("sizeDetail".concat(e))(r.a.createElement(oe.a,null)))),r.a.createElement(de.a,{span:3},r.a.createElement(le.a.Item,{label:"Size Price:"},c("sizePrice".concat(e))(r.a.createElement(oe.a,null)))),r.a.createElement(de.a,{span:3},r.a.createElement(le.a.Item,{label:"Height:"},c("sizeHeight".concat(e))(r.a.createElement(oe.a,null)))),r.a.createElement(de.a,{span:3},r.a.createElement(le.a.Item,{label:"Chest:"},c("sizeChest".concat(e))(r.a.createElement(oe.a,null)))),r.a.createElement(de.a,{span:3},r.a.createElement(le.a.Item,{label:"Waist:"},c("sizeWaist".concat(e))(r.a.createElement(oe.a,null)))),r.a.createElement(de.a,{span:3},r.a.createElement(le.a.Item,{label:"Hips:"},c("sizeHips".concat(e))(r.a.createElement(oe.a,null)))),r.a.createElement(de.a,{span:3},1!==F.length&&r.a.createElement(ie.a,{className:"m-t-43 m-r-5",type:"dashed",icon:"minus",onClick:function(){return function(e){var t=Object(Ee.a)(F);t.splice(e,1),T(t)}(t)}}),t===F.length-1&&r.a.createElement(ie.a,{className:"m-t-43",type:"dashed",icon:"plus",onClick:function(){return function(e){if(!!i("sizeOption"+e)){var t=Object(Ee.a)(F);t.push(t[t.length-1]+1),T(t)}else $("please enter the size before adding a new one.")}(e)}})),r.a.createElement(de.a,{span:3})),1!==F.length&&t!==F.length-1&&r.a.createElement(ye.a,{dashed:!0}))}))),r.a.createElement(ye.a,null),r.a.createElement(pe.a,null,r.a.createElement(pe.a,null,r.a.createElement(Ne,{level:4},"Colors & Images")),R.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,{gutter:[10,0],key:e},r.a.createElement(de.a,{span:4},r.a.createElement(le.a.Item,{label:"Color: ".concat(e," index: ").concat(t)},c("colorOption".concat(e))(r.a.createElement(Oe.a,{placeholder:"Select a color"},O.map((function(e,t){return r.a.createElement(_e,{value:e.id,key:t},e.name)})))))),r.a.createElement(de.a,{span:4},r.a.createElement(le.a.Item,{label:"Color code:"},c("colorCode".concat(e))(r.a.createElement(oe.a,null)))),r.a.createElement(de.a,{span:8},r.a.createElement(le.a.Item,{label:"Color Images:",className:"product-image-upload"},c("colorImages".concat(e))(r.a.createElement(je.a,{listType:"picture-card",fileList:M[e],customRequest:function(t){return function(e,t){V({method:"FILE_POST",params:{product_image:e},url:U.imageUpload,showSuccessNotification:!0,successMessage:"Image uploaded successfully.",onSuccess:function(e){var a=xe({},M);a[t].push({uid:e.image_name,thumbUrl:D+e.image_link,name:e.image_name}),J(a),o(Object(h.a)({},"colorImages".concat(t),a[t]))}})}(t.file,e)},onRemove:function(t){return function(e,t){var a=xe({},M),n=M[t].findIndex((function(t){var a=t.uid;return e.uid===a}));a[t].splice(n,1),J(a)}(t,e)}},M[e]&&M[e].length>=8?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{type:"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload")))))),r.a.createElement(de.a,{span:4},r.a.createElement(le.a.Item,{label:"Set Default Color:"},c("colorDefault".concat(e))(r.a.createElement(ve.a,{checked:i("colorDefault".concat(e)),onChange:function(t){return function(e,t){Object.keys(s()).forEach((function(e){e.startsWith("colorDefault")&&t!=e[e.length-1]&&o(Object(h.a)({},e,!1))}))}(0,e)}})))),r.a.createElement(de.a,{span:4},1!==R.length&&r.a.createElement(ie.a,{className:"m-t-43 m-r-5",type:"dashed",icon:"minus",onClick:function(){return function(e,t){var a=Object(Ee.a)(R);a.splice(e,1),q(a);var n=M;delete n[t],J(n)}(t,e)}}),t===R.length-1&&r.a.createElement(ie.a,{className:"m-t-43",type:"dashed",icon:"plus",onClick:function(){return function(e){if(!!i("colorOption"+e)){var t=Object(Ee.a)(R),a=t[t.length-1];t.push(a+1),q(t),J(xe({},M,Object(h.a)({},a+1,[])))}else $("please enter the color before adding a new one.")}(e)}}))),1!==R.length&&t!==R.length-1&&r.a.createElement(ye.a,{dashed:!0}))}))),r.a.createElement(pe.a,{className:"m-t-30"},r.a.createElement(le.a.Item,null,r.a.createElement(ie.a,{type:"primary",htmlType:"submit",size:"large"},"Save")))))})),De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).filter((function(e){return e.startsWith("sizeOption")})).map((function(t){var a=t[t.length-1];return{is_checked:!0,id:e["sizeOption".concat(a)],details:e["sizeDetail".concat(a)],height:e["sizeHeight".concat(a)],hips:e["sizeHips".concat(a)],chest:e["sizeChest".concat(a)],waistline:e["sizeWaist".concat(a)],size_price:e["sizePrice".concat(a)],amount:e["sizeAmount".concat(a)]}}));return t[0].id?t:[]},Le=function(e){var t=Object.keys(e).filter((function(e){return e.startsWith("colorOption")})).map((function(t){var a=t[t.length-1];return{is_checked:!0,id:e["colorOption".concat(a)],product_color_code:e["colorCode".concat(a)],images:e["colorImages".concat(a)]?e["colorImages".concat(a)].map((function(e){return{image_name:e.name}})):[],amount:e["colorAmount".concat(a)]}}));return t[0].id?t.reverse():[]},Ae=function(e){var t=Object.keys(e).filter((function(t){return t.startsWith("colorDefault")&&!!e[t]}));if(0!==t.length){var a=t[0][t[0].length-1];return e["colorOption".concat(a)]}};a(461);var Re=[{path:"/",component:he,name:"Products",icon:"shop",showAlways:!0},{path:"/create-product",component:le.a.create({name:"loginForm"})((function(){var e=H(),t=e.doFetch,a=(e.data,Object(n.useState)(!1)),c=Object(d.a)(a,2),l=c[0],o=c[1];return r.a.createElement("div",{className:"main"},l&&r.a.createElement(u.a,{to:"/"}),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement(Fe,{handleFormSubmit:function(e){var a={name:e.name,slug:De(e.name),category_id:e.category,category_type_id:e.type,description:e.description,details:e.details,price:e.mainPrice,currency:"EUR",is_best:e.isBest?"1":"0",is_handmade:e.isHandmade?"1":"0",stock_status:e.isOutOfStuck?"0":"1",default_color_id:Ae(e),sizes:Te(e),colors:Le(e)};t({url:U.productCreate,params:a,onSuccess:function(e){return!!e.id&&o(!0)}})}})),r.a.createElement("div",{className:"brief-wrapper hidden"},"sdcsa"))})),name:"Create Product",icon:"upload",showAlways:!0},{path:"/product/:productSlug",component:function(){return r.a.createElement("div",null,"ProductDetails page")},name:"Product details",icon:"team",showAlways:!1}],He=[{path:"/login",component:se,name:"Dashboard",noAuth:!0},{path:"/",component:ce,name:"Main Layout"}];a(462);var qe=function(e){var t=e.history,a=i.a.get("authenticationToken"),c=Object(n.useContext)(f),l=c.loading,o=c.error,d=c.successNotification,g=Object(n.useContext)(B),h=g.doCategoriesFetch,E=g.doColorsFetch,b=g.doSizesFetch,O=g.data,y=O.categories,v=O.colors,j=O.sizes;return Object(n.useEffect)((function(){var e=A(o),t="authentication failed"===e;a&&((!y||0===y.length)&&h(),(!v||0===v.length)&&E(),(!j||0===j.length)&&b()),o&&!t&&m.a.error({placement:"bottomRight",message:"An error occured!",duration:3,description:e}),d&&m.a.success({placement:"bottomRight",message:d,duration:3}),t&&i.a.set("authenticationToken",null)}),[o,d,a]),r.a.createElement(n.Fragment,null,r.a.createElement(p.a,{spinning:l},r.a.createElement(s.a,{history:t,basename:"/admin-dashboard"},r.a.createElement(u.d,null,He.map((function(e){return r.a.createElement(u.b,{key:e.path,path:e.path,component:e.component})}))),!a&&r.a.createElement(u.a,{to:"/login"}))))};var Ue=function(){var e=i.a.get("authenticationToken");return e&&L(e),r.a.createElement(g,null,r.a.createElement(M,null,r.a.createElement(qe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[221,1,2]]]);
//# sourceMappingURL=main.10045cf3.chunk.js.map